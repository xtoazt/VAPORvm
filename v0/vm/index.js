let e,t,r;try{e=new TextDecoder}catch(e){}let n=0;const o=57342,a=57343,s=57337,i={};let l,d,u,c,f,p,h,y={},w=0,m=0,b=[],g=[],v={useRecords:!1,mapsAsObjects:!0},k=!1,E=2;try{new Function("")}catch(e){E=1/0}class A{constructor(e){if(e&&(!e.keyMap&&!e._keyMap||e.useRecords||(e.useRecords=!1,e.mapsAsObjects=!0),!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.getStructures&&(e.getShared=e.getStructures),e.getShared&&!e.structures&&((e.structures=[]).uninitialized=!0),e.keyMap)){this.mapKey=new Map;for(let[t,r]of Object.entries(e.keyMap))this.mapKey.set(r,t)}Object.assign(this,e)}decodeKey(e){return this.keyMap&&this.mapKey.get(e)||e}encodeKey(e){return this.keyMap&&this.keyMap.hasOwnProperty(e)?this.keyMap[e]:e}encodeKeys(e){if(!this._keyMap)return e;let t=new Map;for(let[r,n]of Object.entries(e))t.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,n);return t}decodeKeys(e){if(!this._keyMap||"Map"!=e.constructor.name)return e;if(!this._mapKey){this._mapKey=new Map;for(let[e,t]of Object.entries(this._keyMap))this._mapKey.set(t,e)}let t={};return e.forEach(((e,r)=>t[O(this._mapKey.has(r)?this._mapKey.get(r):r)]=e)),t}mapDecode(e,t){let r=this.decode(e);return this._keyMap&&"Array"===r.constructor.name?r.map((e=>this.decodeKeys(e))):r}decode(e,o){if(t)return q((()=>(J(),this?this.decode(e,o):A.prototype.decode.call(v,e,o))));r=o>-1?o:e.length,n=0,m=0,d=null,u=null,t=e;try{p=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){if(t=null,e instanceof Uint8Array)throw r;throw new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof A){if(y=this,f=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return l=this.structures,M();(!l||l.length>0)&&(l=[])}else y=v,(!l||l.length>0)&&(l=[]),f=null;return M()}decodeMultiple(e,t){let r,o=0;try{let a=e.length;k=!0;let s=this?this.decode(e,a):X.decode(e,a);if(!t){for(r=[s];n<a;)o=n,r.push(M());return r}if(!1===t(s))return;for(;n<a;)if(o=n,!1===t(M()))return}catch(e){throw e.lastPosition=o,e.values=r,e}finally{k=!1,J()}}}function M(){try{let e=U();if(u){if(n>=u.postBundlePosition){let e=new Error("Unexpected bundle position");throw e.incomplete=!0,e}n=u.postBundlePosition,u=null}if(n==r)l=null,t=null,c&&(c=null);else{if(n>r){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}if(!k)throw new Error("Data read, but end of buffer not reached")}return e}catch(e){throw J(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function U(){let e=t[n++],c=e>>5;if(e&=31,e>23)switch(e){case 24:e=t[n++];break;case 25:if(7==c)return function(){let e=t[n++],r=t[n++],o=(127&e)>>2;if(31===o)return r||3&e?NaN:128&e?-1/0:1/0;if(0===o){let t=((3&e)<<8|r)/(1<<24);return 128&e?-t:t}return P[3]=128&e|56+(o>>1),P[2]=(7&e)<<5|r>>3,P[1]=r<<5,P[0]=0,T[0]}();e=p.getUint16(n),n+=2;break;case 26:if(7==c){let e=p.getFloat32(n);if(y.useFloat32>2){let r=W[(127&t[n])<<1|t[n+1]>>7];return n+=4,(r*e+(e>0?.5:-.5)>>0)/r}return n+=4,e}e=p.getUint32(n),n+=4;break;case 27:if(7==c){let e=p.getFloat64(n);return n+=8,e}if(c>1){if(p.getUint32(n)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=p.getUint32(n+4)}else y.int64AsNumber?(e=4294967296*p.getUint32(n),e+=p.getUint32(n+4)):e=p.getBigUint64(n);n+=8;break;case 31:switch(c){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let e,t=[],r=0;for(;(e=U())!=i;)t[r++]=e;return 4==c?t:3==c?t.join(""):Buffer.concat(t);case 5:let n;if(y.mapsAsObjects){let e={};if(y.keyMap)for(;(n=U())!=i;)e[O(y.decodeKey(n))]=U();else for(;(n=U())!=i;)e[O(n)]=U();return e}{h&&(y.mapsAsObjects=!0,h=!1);let e=new Map;if(y.keyMap)for(;(n=U())!=i;)e.set(y.decodeKey(n),U());else for(;(n=U())!=i;)e.set(n,U());return e}case 7:return i;default:throw new Error("Invalid major type for indefinite length "+c)}default:throw new Error("Unknown token "+e)}switch(c){case 0:return e;case 1:return~e;case 2:return v=e,y.copyBuffers?Uint8Array.prototype.slice.call(t,n,n+=v):t.subarray(n,n+=v);case 3:if(m>=n)return d.slice(n-w,(n+=e)-w);if(0==m&&r<140&&e<32){let r=e<16?L(e):function(e){let r=n,o=new Array(e);for(let a=0;a<e;a++){const e=t[n++];if((128&e)>0)return void(n=r);o[a]=e}return C.apply(String,o)}(e);if(null!=r)return r}return x(e);case 4:let i=new Array(e);for(let t=0;t<e;t++)i[t]=U();return i;case 5:if(y.mapsAsObjects){let t={};if(y.keyMap)for(let r=0;r<e;r++)t[O(y.decodeKey(U()))]=U();else for(let r=0;r<e;r++)t[O(U())]=U();return t}{h&&(y.mapsAsObjects=!0,h=!1);let t=new Map;if(y.keyMap)for(let r=0;r<e;r++)t.set(y.decodeKey(U()),U());else for(let r=0;r<e;r++)t.set(U(),U());return t}case 6:if(e>=s){let t=l[8191&e];if(t)return t.read||(t.read=_(t)),t.read();if(e<65536){if(e==a){let e=$(),t=U(),r=U();j(t,r);let n={};if(y.keyMap)for(let t=2;t<e;t++)n[O(y.decodeKey(r[t-2]))]=U();else for(let t=2;t<e;t++)n[O(r[t-2])]=U();return n}if(e==o){let e=$(),t=U();for(let r=2;r<e;r++)j(t++,U());return U()}if(e==s)return function(){let e=$(),t=n+U();for(let t=2;t<e;t++){let e=$();n+=e}let r=n;return n=t,u=[S($()),S($())],u.position0=0,u.position1=0,u.postBundlePosition=n,n=r,U()}();if(y.getShared&&(H(),t=l[8191&e],t))return t.read||(t.read=_(t)),t.read()}}let c=b[e];if(c)return c.handlesRead?c(U):c(U());{let t=U();for(let r=0;r<g.length;r++){let n=g[r](e,t);if(void 0!==n)return n}return new K(t,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:let t=(f||N())[e];if(void 0!==t)return t;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}throw new Error("Unknown CBOR token "+e)}var v}const R=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function _(e){return e.slowReads=0,function(){let e=t[n++];if(e&=31,e>23)switch(e){case 24:e=t[n++];break;case 25:e=p.getUint16(n),n+=2;break;case 26:e=p.getUint32(n),n+=4;break;default:throw new Error("Expected array header, but got "+t[n-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===e)return r(U);r=r.next}if(this.slowReads++>=E){let t=this.length==e?this:this.slice(0,e);return r=y.keyMap?new Function("r","return {"+t.map((e=>y.decodeKey(e))).map((e=>R.test(e)?O(e)+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"}"):new Function("r","return {"+t.map((e=>R.test(e)?O(e)+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=e,this.compiledReader=r,r(U)}let o={};if(y.keyMap)for(let t=0;t<e;t++)o[O(y.decodeKey(this[t]))]=U();else for(let t=0;t<e;t++)o[O(this[t])]=U();return o}}function O(e){if("string"==typeof e)return"__proto__"===e?"__proto_":e;if("object"!=typeof e)return e.toString();throw new Error("Invalid property name type "+typeof e)}let x=S;function S(r){let o;if(r<16&&(o=L(r)))return o;if(r>64&&e)return e.decode(t.subarray(n,n+=r));const a=n+r,s=[];for(o="";n<a;){const e=t[n++];if(0==(128&e))s.push(e);else if(192==(224&e)){const r=63&t[n++];s.push((31&e)<<6|r)}else if(224==(240&e)){const r=63&t[n++],o=63&t[n++];s.push((31&e)<<12|r<<6|o)}else if(240==(248&e)){let r=(7&e)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++];r>65535&&(r-=65536,s.push(r>>>10&1023|55296),r=56320|1023&r),s.push(r)}else s.push(e);s.length>=4096&&(o+=C.apply(String,s),s.length=0)}return s.length>0&&(o+=C.apply(String,s)),o}let C=String.fromCharCode;function L(e){if(e<4){if(e<2){if(0===e)return"";{let e=t[n++];return(128&e)>1?void(n-=1):C(e)}}{let r=t[n++],o=t[n++];if((128&r)>0||(128&o)>0)return void(n-=2);if(e<3)return C(r,o);let a=t[n++];return(128&a)>0?void(n-=3):C(r,o,a)}}{let r=t[n++],o=t[n++],a=t[n++],s=t[n++];if((128&r)>0||(128&o)>0||(128&a)>0||(128&s)>0)return void(n-=4);if(e<6){if(4===e)return C(r,o,a,s);{let e=t[n++];return(128&e)>0?void(n-=5):C(r,o,a,s,e)}}if(e<8){let i=t[n++],l=t[n++];if((128&i)>0||(128&l)>0)return void(n-=6);if(e<7)return C(r,o,a,s,i,l);let d=t[n++];return(128&d)>0?void(n-=7):C(r,o,a,s,i,l,d)}{let i=t[n++],l=t[n++],d=t[n++],u=t[n++];if((128&i)>0||(128&l)>0||(128&d)>0||(128&u)>0)return void(n-=8);if(e<10){if(8===e)return C(r,o,a,s,i,l,d,u);{let e=t[n++];return(128&e)>0?void(n-=9):C(r,o,a,s,i,l,d,u,e)}}if(e<12){let c=t[n++],f=t[n++];if((128&c)>0||(128&f)>0)return void(n-=10);if(e<11)return C(r,o,a,s,i,l,d,u,c,f);let p=t[n++];return(128&p)>0?void(n-=11):C(r,o,a,s,i,l,d,u,c,f,p)}{let c=t[n++],f=t[n++],p=t[n++],h=t[n++];if((128&c)>0||(128&f)>0||(128&p)>0||(128&h)>0)return void(n-=12);if(e<14){if(12===e)return C(r,o,a,s,i,l,d,u,c,f,p,h);{let e=t[n++];return(128&e)>0?void(n-=13):C(r,o,a,s,i,l,d,u,c,f,p,h,e)}}{let y=t[n++],w=t[n++];if((128&y)>0||(128&w)>0)return void(n-=14);if(e<15)return C(r,o,a,s,i,l,d,u,c,f,p,h,y,w);let m=t[n++];return(128&m)>0?void(n-=15):C(r,o,a,s,i,l,d,u,c,f,p,h,y,w,m)}}}}}let T=new Float32Array(1),P=new Uint8Array(T.buffer,0,4);new Array(4096);class K{constructor(e,t){this.value=e,this.tag=t}}b[0]=e=>new Date(e),b[1]=e=>new Date(Math.round(1e3*e)),b[2]=e=>{let t=BigInt(0);for(let r=0,n=e.byteLength;r<n;r++)t=BigInt(e[r])+t<<BigInt(8);return t},b[3]=e=>BigInt(-1)-b[2](e),b[4]=e=>+(e[1]+"e"+e[0]),b[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));const j=(e,t)=>{let r=l[e-=57344];r&&r.isShared&&((l.restoreStructures||(l.restoreStructures=[]))[e]=r),l[e]=t,t.read=_(t)};b[105]=e=>{let t=e.length,r=e[1];j(e[0],r);let n={};for(let o=2;o<t;o++)n[O(r[o-2])]=e[o];return n},b[14]=e=>u?u[0].slice(u.position0,u.position0+=e):new K(e,14),b[15]=e=>u?u[1].slice(u.position1,u.position1+=e):new K(e,15);let B={Error:Error,RegExp:RegExp};b[27]=e=>(B[e[0]]||Error)(e[1],e[2]);const I=e=>{if(132!=t[n++]){let e=new Error("Packed values structure must be followed by a 4 element array");throw t.length<n&&(e.incomplete=!0),e}let r=e();if(!r||!r.length){let e=new Error("Packed values structure must be followed by a 4 element array");throw e.incomplete=!0,e}return f=f?r.concat(f.slice(r.length)):r,f.prefixes=e(),f.suffixes=e(),e()};function F(e,t){return"string"==typeof e?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function N(){if(!f){if(!y.getShared)throw new Error("No packed values available");H()}return f}I.handlesRead=!0,b[51]=I,b[6]=e=>{if(!f){if(!y.getShared)return new K(e,6);H()}if("number"==typeof e)return f[16+(e>=0?2*e:-2*e-1)];let t=new Error("No support for non-integer packed references yet");throw void 0===e&&(t.incomplete=!0),t},b[28]=e=>{c||(c=new Map,c.id=0);let r,o=c.id++;r=t[n]>>5==4?[]:{};let a={target:r};c.set(o,a);let s=e();return a.used?Object.assign(r,s):(a.target=s,s)},b[28].handlesRead=!0,b[29]=e=>{let t=c.get(e);return t.used=!0,t.target},b[258]=e=>new Set(e),(b[259]=e=>(y.mapsAsObjects&&(y.mapsAsObjects=!1,h=!0),e())).handlesRead=!0,g.push(((e,t)=>e>=225&&e<=255?F(N().prefixes[e-224],t):e>=28704&&e<=32767?F(N().prefixes[e-28672],t):e>=1879052288&&e<=2147483647?F(N().prefixes[e-1879048192],t):e>=216&&e<=223?F(t,N().suffixes[e-216]):e>=27647&&e<=28671?F(t,N().suffixes[e-27639]):e>=1811940352&&e<=1879048191?F(t,N().suffixes[e-1811939328]):1399353956==e?{packedValues:f,structures:l.slice(0),version:t}:55799==e?t:void 0));const D=1==new Uint8Array(new Uint16Array([1]).buffer)[0],V=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,"undefined"==typeof BigUint64Array?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,"undefined"==typeof BigInt64Array?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Z=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<V.length;e++)z(V[e],Z[e]);function z(e,t){let r,n="get"+e.name.slice(0,-5);"function"==typeof e?r=e.BYTES_PER_ELEMENT:e=null;for(let o=0;o<2;o++){if(!o&&1==r)continue;let a=2==r?1:4==r?2:3;b[o?t:t-4]=1==r||o==D?n=>{if(!e)throw new Error("Could not find typed array for code "+t);return y.copyBuffers||1!==r&&(2!==r||1&n.byteOffset)&&(4!==r||3&n.byteOffset)&&(8!==r||7&n.byteOffset)?new e(Uint8Array.prototype.slice.call(n,0).buffer):new e(n.buffer,n.byteOffset,n.byteLength)}:r=>{if(!e)throw new Error("Could not find typed array for code "+t);let s=new DataView(r.buffer,r.byteOffset,r.byteLength),i=r.length>>a,l=new e(i),d=s[n];for(let e=0;e<i;e++)l[e]=d.call(s,e<<a,o);return l}}}function $(){let e=31&t[n++];if(e>23)switch(e){case 24:e=t[n++];break;case 25:e=p.getUint16(n),n+=2;break;case 26:e=p.getUint32(n),n+=4}return e}function H(){if(y.getShared){let e=q((()=>(t=null,y.getShared())))||{},r=e.structures||[];y.sharedVersion=e.version,f=y.sharedValues=e.packedValues,!0===l?y.structures=l=r:l.splice.apply(l,[0,r.length].concat(r))}}function q(e){let o=r,a=n,s=w,i=m,f=d,h=c,b=u,g=new Uint8Array(t.slice(0,r)),v=l,E=y,A=k,M=e();return r=o,n=a,w=s,m=i,d=f,c=h,u=b,t=g,k=A,l=v,y=E,p=new DataView(t.buffer,t.byteOffset,t.byteLength),M}function J(){t=null,c=null,l=null}const W=new Array(147);for(let e=0;e<256;e++)W[e]=+("1e"+Math.floor(45.15-.30103*e));let X=new A({useRecords:!1});const Y=X.decode;X.decodeMultiple;class G extends Error{constructor(e){super(e),this.name="FailedToLoadError"}}class Q extends G{constructor(e){super(e),this.name="SessionTerminatedError"}}const ee="Provided Hyperbeam embed_url's session has terminated";class te extends G{constructor(e){super(e),this.name="OfflineError"}}class re extends Error{constructor(){super("Timed out"),this.name="TimedOutError"}}async function ne(e,t,r){var n;const o=(null==r?void 0:r.timeout)||5e3,a=null==r?void 0:r.shotCb,s=null==r?void 0:r.onDisconnect,i=null==r?void 0:r.onCloseWarning,l=null==r?void 0:r.onCursor,d=null==r?void 0:r.webhookUserdata,u=null==r?void 0:r.onConnectionStateChange,c=null==r?void 0:r.cn,f=c||"jquery.tutturu.workers.dev";let p,h,y,w,m=!1!==(null==r?void 0:r.delegateKeyboard);const b=/^https:\/\/[a-z0-9]{25}\.hyperbeam\.com\//.test(t),g=b?3:2;let v=0;const k=()=>{t="https://"+f+t.substring(t.indexOf("/")+1)},E=()=>!c&&b&&v===g?(k(),o):o/v;let A;function M(){y({type:"blur"})}c&&k();const U={},R=new Map,_=new Map;function O(){h?(null==w||w(),A&&URL.revokeObjectURL(A)):(window.removeEventListener("message",I),window.removeEventListener("keydown",N),window.removeEventListener("keyup",N),window.removeEventListener("pagehide",M),window.removeEventListener("blur",M)),R.clear(),_.clear()}let x,S,C;if("IFRAME"===e.nodeName){if(null==r?void 0:r.frameCb)throw new TypeError("frameCb is not supported with IFrame for performance reasons, please pass in a div");if((null==r?void 0:r.audioTrackCb)||(null==r?void 0:r.videoTrackCb))throw new TypeError("track cb cannot be used with IFrame, please pass in a div");e.allow="autoplay; clipboard-read; clipboard-write",await new Promise(((r,n)=>{let o;const a=()=>{v++,o=setTimeout(s,E()),e.src=t},s=()=>{v===g?n(new re):a()};a(),e.addEventListener("load",(()=>{clearTimeout(o),r()}),{once:!0}),fetch(t).then((e=>{400===e.status&&n(new Q(ee))})).catch((()=>{v<g&&(clearTimeout(o),a())}))})),p=e.contentWindow,y=e=>{p.postMessage(e,"*")},window.addEventListener("message",I),window.addEventListener("keydown",N,{passive:!0}),window.addEventListener("keyup",N,{passive:!0}),window.addEventListener("pagehide",M),window.addEventListener("blur",M)}else{if((null==r?void 0:r.frameCb)&&(null==r?void 0:r.videoTrackCb))throw new TypeError("please set exactly one of frameCb and videoTrackCb");h=e.shadowRoot||e.attachShadow({mode:"open"});const n=await new Promise((async(e,r)=>{for(;;){v++;const n=new AbortController;setTimeout((()=>n.abort()),E());const o=new URL(t);o.searchParams.append("no_cbor","1");try{const t=await fetch(o.toString(),{signal:n.signal});if(504===t.status)throw new Error;return void e(t)}catch(e){if(!navigator.onLine)return void r(new te("Network is offline"));if(v===g)return void r("AbortError"===e.name?new re:new G("Failed to load, please check if the Hyperbeam embed_url's session has terminated"))}}}));if(n.status>=400)throw new Q(ee);A=URL.createObjectURL(await n.blob());const o=(await import(/*webpackIgnore:true*//*@vite-ignore*/A)).default(h,n.url,F,{...r,cborDecode:Y});y=o.handleMessage,w=o.destroy}d&&y({type:"webhook_auth",data:{webhookUserdata:d}});const L=await new Promise(((e,t)=>{C=e,S=setTimeout((()=>{O(),t(new re)}),o)}));let{width:T,height:P}=L;const{user_id:K,max_area:j}=L;function B(){for(var e=0;;e++)if(!(e in U)&&!R.has(e))return e}async function I(e){e.source===p&&F(e.data)}async function F(e){var t;if("i"in e&&!("m"in e)){const{i:t}=e,r=U[t];if(r){clearTimeout(r[2]),delete U[t];const{e:n}=e;null!=n?r[1](new Error(n)):r[0](e.r)}else{const r=R.get(t);if(r){const{r:t}=e;Array.isArray(t)?r[1](...t):r[1](t)}}}else if("type"in e)switch(e.type){case"connection":clearTimeout(S),C(e.data);break;case"ext_reconn":{const e=new Set;for(const[t,[r,n,o]]of R)r&&!e.has(n)&&(R.delete(t),_.delete(n),e.add(n),r(n,...o));break}case"blur":null===(t=document.activeElement)||void 0===t||t.blur();break;case"screenshot":{const{mime:t,buf:r,tabId:n}=e.data;a&&a({tabId:n,img:new Blob([r],{type:t})});break}case"disconnect":s&&s(e.data);break;case"close_warning":i&&i(e.data);break;case"connection_state":u&&u(e.data);break;case"peer_mouse":l&&l(e.data);break;case"resize":T=e.data.width,P=e.data.height;break;case"rtt":x=e.data}}function N(e){if(!m)return;const{activeElement:t}=document;t&&("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName||t.isContentEditable)||y({type:e.type,key:e.key,ctrlKey:e.ctrlKey,metaKey:e.metaKey})}const D=(e,t)=>new Promise(((r,n)=>{const a=B(),s=setTimeout((()=>{const e=U[a];delete U[a],e[1](new re)}),o);U[a]=[r,n,s],y({m:e,a:t,i:a,t:X})})),V=e=>(...t)=>D(e,t),Z=(e,t=!0)=>{const r=`${e}.addListener`,n=`${e}.removeListener`;return{addListener:async function e(n,...a){if(_.has(n))throw new Error("Can't bind same callback twice");return new Promise(((s,i)=>{const l=B(),d=setTimeout((()=>{const e=U[l];delete U[l],R.delete(l),_.delete(n),e[1](new re)}),o);U[l]=[s,i,d],R.set(l,[t?e:void 0,n,a]),_.set(n,l),y({m:r,a:a,i:l})}))},async removeListener(e){const t=_.get(e);null!=t&&(await D(n,[t]),R.delete(t),_.delete(e))}}},z=V("resize"),$=V("setPermissions"),H=V("addRoles"),q=V("removeRoles"),J=V("enablePrivacyMode"),W=V("disablePrivacyMode");let X=null==r?void 0:r.adminToken,ne=!0===(null==r?void 0:r.disableInput),oe=!0===(null==r?void 0:r.playoutDelay),ae=!0===(null==r?void 0:r.videoPaused),se=null!==(n=null==r?void 0:r.volume)&&void 0!==n?n:1;const ie={get height(){return P},maxArea:j,get rtt(){return x},userId:K,get width(){return T},get adminToken(){return X},set adminToken(e){X=e,y({type:"admin_token",data:e})},get delegateKeyboard(){return m},set delegateKeyboard(e){m=e,y({type:"delegate_keyboard",data:e})},get disableInput(){return ne},set disableInput(e){ne=e,y({type:"disable_input",data:e})},get playoutDelay(){return oe},set playoutDelay(e){oe=e,y({type:"playout_delay",data:e})},screenshot:V("screenshot"),tabs:{create:V("tabs.create"),detectLanguage:V("tabs.detectLanguage"),discard:V("tabs.discard"),duplicate:V("tabs.duplicate"),get:V("tabs.get"),getZoom:V("tabs.getZoom"),getZoomSettings:V("tabs.getZoomSettings"),goBack:V("tabs.goBack"),goForward:V("tabs.goForward"),group:V("tabs.group"),highlight:V("tabs.highlight"),move:V("tabs.move"),query:V("tabs.query"),reload:V("tabs.reload"),remove:V("tabs.remove"),setZoom:V("tabs.setZoom"),setZoomSettings:V("tabs.setZoomSettings"),ungroup:V("tabs.ungroup"),update:V("tabs.update"),onActivated:Z("tabs.onActivated"),onCreated:Z("tabs.onCreated"),onHighlighted:Z("tabs.onHighlighted"),onMoved:Z("tabs.onMoved"),onRemoved:Z("tabs.onRemoved"),onReplaced:Z("tabs.onReplaced"),onUpdated:Z("tabs.onUpdated"),onZoomChange:Z("tabs.onZoomChange")},get videoPaused(){return ae},set videoPaused(e){ae=e,y({type:"video_paused",data:e})},get volume(){return se},set volume(e){se=e,y({type:"volume",data:e})},addRoles(e,t,r){if(!X)throw new Error("Admin token not set");return H(e,t,r)},destroy:O,disablePrivacyMode:W,enablePrivacyMode:e=>(e||(e=K),J(e)),ping(){y({type:"ping"})},reconnect(){y({type:"reconnect"})},removeRoles(e,t,r){if(!X)throw new Error("Admin token not set");return q(e,t,r)},resize(e,t){if(t|=0,!((e|=0)>0&&e<=3840&&t>0&&t<=3840))throw new RangeError("dimensions must be > 0 and <= 3840");if(e*t>j)throw new RangeError(`width * height must be <= hb.maxArea: ${j}`);return z(e,t)},sendEvent(e){y(e)},setPermissions(e,t){if(!X)throw new Error("Admin token not set");return $(e,t)}};return void 0!==X&&(ie.adminToken=X),1!==se&&(ie.volume=se),ae&&(ie.videoPaused=ae),oe&&(ie.playoutDelay=oe),ie}async function oe(){const e=await fetch("https://region.hyperbeam.com");return 200!==e.status?{region:"NA"}:e.json()}export{G as FailedToLoadError,te as OfflineError,Q as SessionTerminatedError,re as TimedOutError,ne as default,oe as getRegionInfo};
